# **MINI LABS: QUICK PRACTICE EXERCISES**

Purpose: Small, isolated labs to help you verify the theories learned in the Instruction file before applying them to the large project.  
Requirement: After completing each lab, take a screenshot or save the code snippet to include in your daily report.

### **SESSION 1: DATABASE DESIGN LABS**

**Lab 1.1 (Many-to-Many Relationship):**

* **Task:** Draw a draft ERD for the problem "Students registering for Courses".  
* **Requirement:** One student can take multiple courses, one course can be registered by multiple students.  
* **Question:** How many tables do you need? What columns must the Junction table contain besides the two foreign keys?

**Lab 1.2 (Normalization):**

* Task: Given the following flat (unnormalized) data table:  
  | Employee Name | Department | Manager | Department Address |  
* **Requirement:** Separate this table to verify 3NF (Remove transitive dependencies and data redundancy).

**Lab 1.3 (Tooling):**

* **Requirement:** Install a DB management tool (DBeaver, MySQL Workbench, or SSMS). Try connecting to a local database server.

### **SESSION 2: DDL & DML LABS**

**Lab 2.1 (Create Table & Constraints):**

* **Task:** Write a script to create a Staff table with columns: ID (PK), Name, DoB, Salary, IsActive.  
* **Requirement:**  
  * Salary default is 0.  
  * Name cannot be empty (NOT NULL).

**Lab 2.2 (Data Integrity Test):**

* **Practice:**  
  * Try to INSERT a record with Salary = -500. (If you haven't set a Check constraint, use ALTER TABLE to add Salary >= 0 check and try again).  
  * Observe the returned error.

**Lab 2.3 (Soft Delete):**

* **Practice:**  
  * Insert 3 sample employees.  
  * Instead of using DELETE to remove employee A, use UPDATE to set IsActive = 0.  
  * Write a SELECT statement to retrieve only working employees (IsActive = 1).

### **SESSION 3: QUERYING LABS**

**Lab 3.1 (Setup Data):**

* **Preparation:** Create 2 simple tables Department(Id, Name) and Employee(Id, Name, DeptId).  
* **Data:**  
  * Insert 1 department "IT" with 2 employees.  
  * Insert 1 department "HR" with no employees.  
  * Insert 1 employee "Freelancer" belonging to no department (DeptId is NULL).

**Lab 3.2 (Visualizing Joins):**

* **Practice:**  
  * Run INNER JOIN between Employee and Department. Who is missing?  
  * Run LEFT JOIN (Department on the left). What is the result?  
  * Run RIGHT JOIN (Department on the right). Compare with Left Join.

**Lab 3.3 (Aggregation & Having):**

* **Practice:**  
  * Add a Salary column for Employee. Update random salaries.  
  * Write a query to calculate the **Average Salary** for each department.  
  * Only display departments with an average salary > 1000 (Use HAVING, do not use WHERE for aggregate results).

### **SESSION 4: ADVANCED LABS**

**Lab 4.1 (Transaction - Bank Transfer):**

* **Preparation:** Create table Accounts(Id, Balance). Insert acc A (1000), acc B (0).  
* **Practice:**  
  * Write a Transaction script to transfer 100 from A to B.  
  * Logic: Deduct A -> (Simulate error: SELECT 1/0) -> Add to B.  
  * Run the script and check if A's money is lost? (If Rollback is correct, A's money should still be 1000).

**Lab 4.2 (Stored Procedure):**

* **Practice:** Encapsulate the money transfer logic in Lab 4.1 into a Procedure sp_TransferMoney(@FromID, @ToID, @Amount).

**Lab 4.3 (Indexing Performance):**

* **Preparation:** Create table Logs(Id, Message, CreatedAt). Use a loop or tool to insert 100,000 rows.  
* **Practice:**  
  * Enable execution time viewing (Execution Plan/Duration).  
  * Query: SELECT * FROM Logs WHERE Message = 'Error 404'. Record the time.  
  * Create an Index for the Message column.  
  * Run the query again. Compare the difference.