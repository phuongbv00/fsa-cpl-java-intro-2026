# **PROJECT ASSIGNMENTS: SPRING BOOT STUDENT SERVICE**

Context:  
You are migrating the legacy Console Student Management System (from Java SE) to a modern RESTful Microservice using Spring Boot.

---

## **ASSIGNMENT 01: SPRING BOOTSTRAP & BEAN SURGERY**

_(For Session 2)_

**Objective:** Initialize the project and prove understanding of IoC/DI.

**Deliverables:**

- A working Spring Boot Project Structure.
- Console logs demonstrating Bean Lifecycle.

**Requirements:**

1. **Initialization:**
   - Use [start.spring.io](https://start.spring.io/).
   - Dependencies: `Spring Web`, `Lombok`.
   - Build Tool: Maven.

2. **Project Structure:**
   - Package: `com.university.student`.
   - Layers: `controller`, `service`, `repository`, `model`.

3. **DI Proof Implementation:**
   - Create `StudentRepository` (Interface) and `StudentRepositoryImpl` (@Component).
   - Create `StudentService` that depends on `StudentRepository`.
   - Use **Constructor Injection** (Recommended).
   - Add a `System.out.println("Repository Created")` in Repository constructor.
   - Add a `System.out.println("Service Created")` in Service constructor.

4. **Run & Verify:**
   - Start the application.
   - Observe the Console.
   - **Question:** Which one is created first? Service or Repository? Why?

> **Critical Thinking:**
>
> - Why do we prefer Constructor Injection over `@Autowired` on fields?
> - Eliminate the `Impl` class and use a Mock/Stub if possible.

---

## **ASSIGNMENT 02: RESTFUL API & JPA INTEGRATION**

_(For Session 5 & 6)_

**Objective:** Build the complete Backend API for managing Students.

**Requirements:**

1. **Data Layer (JPA):**
   - Config `H2 Database` (File-based or In-memory) or `PostgreSQL`.
   - Entity `Student`: `id` (Long, PK, Auto Inc), `name`, `email` (Unique), `dob`.
   - `StudentRepository` extends `JpaRepository`.

2. **REST Layer (Controller):**
   - Base URL: `/api/v1/students`.
   - `GET /` : Get all students.
   - `GET /{id}` : Get by ID.
   - `POST /` : Create new student.
   - `PUT /{id}` : Update details.
   - `DELETE /{id}` : Remove student.

3. **Business Logic (Service):**
   - Logic: Email must be unique.
   - Logic: Student must be at least 18 years old (Calculate from `dob`).

4. **Error Handling:**
   - Validation: Use `@NotNull`, `@Email` on DTOs.
   - Exceptions: If ID not found -> Throw `StudentNotFoundException` -> Return HTTP 404.
   - Handler: Use `@RestControllerAdvice`.

> **Critical Thinking:**
>
> - **Idempotency:** Is `PUT` idempotent? Is `POST` idempotent?
> - **Security:** Why should we NOT expose the `@Entity` directly in the Controller response? (Hint: Infinite Recursion, Password fields). Use DTOs.

---

## **ASSIGNMENT 03: DOCKER & DEPLOYMENT**

_(For Session 9)_

**Objective:** Containerize the application for the Cloud.

**Requirements:**

1. **Executable JAR:**
   - Run `mvn clean package`.
   - Verify you can run functionality with `java -jar target/app.jar`.

2. **Dockerization:**
   - Create a `Dockerfile`.
   - Base Image: `eclipse-temurin:17-jre-alpine` (or similar).
   - Copy the JAR.
   - Expose Port 8080.
   - Entrypoint command.

3. **Configuration:**
   - Allow passing DB connection string via Environment Variable (`SPRING_DATASOURCE_URL`).

4. **Execution:**
   - Build Image: `docker build -t student-service .`
   - Run Container: `docker run -p 8080:8080 student-service`.
   - Verify API access from Host machine (Postman).

> **Critical Thinking:**
>
> - **Layers:** Why do we put dependencies (libs) in a lower layer and application code in upper layer in optimized Dockerfiles?
> - **Graceful Shutdown:** What happens to active requests when you kill the container?
